<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>blog -  码代码</title><link rel="icon" href="/favicon.ico"/><link rel="stylesheet" href="/static/css/androidstudio.min.css"/><script src="/static/js/highlight.min.js"></script><script>hljs.highlightAll();</script><meta name="next-head-count" content="7"/><link rel="preload" href="/_next/static/css/3c5946e20da2cc20d075.css" as="style"/><link rel="stylesheet" href="/_next/static/css/3c5946e20da2cc20d075.css" data-n-g=""/><link rel="preload" href="/_next/static/css/e2e6dc732d39303ab748.css" as="style"/><link rel="stylesheet" href="/_next/static/css/e2e6dc732d39303ab748.css" data-n-p=""/><link rel="preload" href="/_next/static/css/4b5ef9ffeb729d4f1c31.css" as="style"/><link rel="stylesheet" href="/_next/static/css/4b5ef9ffeb729d4f1c31.css" data-n-p=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-c006ee6087559bbd65e3.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.15878d4e523f86636251.js" as="script"/><link rel="preload" href="/_next/static/chunks/99f422a92ff7083adb8a7d840734144fa7589f68.e37cca09058b1656d546.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-86af5e0fcdd51c9c3a66.js" as="script"/><link rel="preload" href="/_next/static/chunks/314642ff.81d3755a1df95fed9f2f.js" as="script"/><link rel="preload" href="/_next/static/chunks/762e22088df2ca7ea97d3f731b2a7315c482f91e.cb9acb13aef2b3683e00.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/blog/%5Blink%5D-87cd50cf458654f0c030.js" as="script"/></head><body><div id="__next"><div class="Home_container__1EcsU"><main class="Home_main__1x8gC"><div class="ui text container"><h1 class="ui header"> 码代码</h1><span></span><section><p>日志：#日志# api请求的，请求异常一定要有日志</p>
<p>#异常处理# 封装的异常，要保留原始异常信息，异常堆栈中要能追溯原始异常的堆栈</p>
<p>打日志一个非常重要的点（特别是支付场景）：
在请求前打，请求之后再打，而不是只在一边打</p>
<p>#软件工程师核心能力# 读代码
并不是每个项目都是从零开始的，大多数时候都是给一个现有的仓库做维护，好比给一个房子添砖加瓦、做改造。
如果不了解手头做的事，只追求把自己的那部分做好，不了解改动会对现有系统产生什么样的影响，可能会导致什么后果，就不算是合格的，很可能有一天会砸到自己、碰到别人。
怎么避免呢？依靠对业务的理解和判断（和领域专家、团队沟通），对实现的理解（读代码）。</p>
<p>命名一定要很明确，无论是业务系统，还是技术组件，明确表达是干啥的。
ps: 看见项目代码中各种set_xxx, process_xxx就头大。。。</p>
<p>对扩展开放，#开原则#的应用：
实现sdk的版本迭代时，提供一个最基础的方法，方便用户找不到封装方法时，自己还能在这个最基础的方法上实现一个，达到用户端扩展的目的。</p>
<p>延伸：有依赖关系的且多变的地方，强调简单、灵活。</p>
<p>api设计：简单，傻瓜化，不要指望调用方处理复杂的逻辑。</p>
<h2>抽象：从业务角度去抽象代码，而不是实现角度</h2>
<p>实际的例子：一个类似优酷的视频平台，现有的服务已经支持了点播视频，现在需要增加一个直播业务，并且产品希望在合理的规则约束下，尽可能复用点播的业务逻辑。
在增加新功能的时候，发现现有实现严重耦合了点播视频的一些东西。
从业务角度抽象代码，背后的逻辑是，代码要合理对现有业务逻辑做抽象，能够在适应新的业务时灵活调整。</p>
<p>抽象本身也是有成本的，技术团队要在扩展现有系统能力的成本、抽象的成本直接做取舍。</p>
</section><div role="list" class="ui list"><div role="listitem" class="item">2021-10-11 11:55:16 +0800<!-- --> <!-- -->yajw<!-- --> <!-- -->Update 2021-03-27 码代码.md<!-- --> <!-- -->M</div><div role="listitem" class="item">2021-10-11 11:53:23 +0800<!-- --> <!-- -->yajw<!-- --> <!-- -->Update 2021-03-27 码代码.md<!-- --> <!-- -->M</div><div role="listitem" class="item">2021-10-11 11:49:59 +0800<!-- --> <!-- -->yajw<!-- --> <!-- -->Update 2021-03-27 码代码.md<!-- --> <!-- -->M</div><div role="listitem" class="item">2021-03-27 14:49:15 +0800<!-- --> <!-- -->yajw<!-- --> <!-- -->Copy old posts<!-- --> <!-- -->A</div></div><div id="comments"></div></div></main><footer class="Home_footer__1WdhD"><div class="Home_powered__2GdUA">Powered by<!-- --> <a href="https://nextjs.org/" target="_blank" rel="noopener noreferrer">Next.js</a>.</div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":" 码代码","comments":true,"date":"2021-02-17T00:00:00.000Z","tags":[],"categories":["总结"],"modifyTime":"2021-03-27 14:49:15 +0800","createTime":"2021-10-11 11:55:16 +0800","logs":[{"status":["M"],"files":["\"2021-03-27 \\347\\240\\201\\344\\273\\243\\347\\240\\201.md\""],"abbrevHash":"9b65aea","hash":"9b65aea13e08b46aed87ab3b15f8883a0948c858","subject":"Update 2021-03-27 码代码.md","authorName":"yajw","authorDate":"2021-10-11 11:55:16 +0800"},{"status":["M"],"files":["\"2021-03-27 \\347\\240\\201\\344\\273\\243\\347\\240\\201.md\""],"abbrevHash":"b38ea2e","hash":"b38ea2e054d5c813abfb93a2598414c8821a7a48","subject":"Update 2021-03-27 码代码.md","authorName":"yajw","authorDate":"2021-10-11 11:53:23 +0800"},{"status":["M"],"files":["\"2021-03-27 \\347\\240\\201\\344\\273\\243\\347\\240\\201.md\""],"abbrevHash":"4206d8f","hash":"4206d8fd20d9a7309ec7423f1d33aec28ede62d0","subject":"Update 2021-03-27 码代码.md","authorName":"yajw","authorDate":"2021-10-11 11:49:59 +0800"},{"status":["A"],"files":["\"2021-03-27 \\347\\240\\201\\344\\273\\243\\347\\240\\201.md\""],"abbrevHash":"f4f4061","hash":"f4f406175bde5279c552d8bac1c05cf7bb72d58e","subject":"Copy old posts","authorName":"yajw","authorDate":"2021-03-27 14:49:15 +0800"}],"link":"2021-03-27%20%E7%A0%81%E4%BB%A3%E7%A0%81","id":"9fcc6b32-16ca-4407-b75a-12bbc9fbef8b","content":"\u003cp\u003e日志：#日志# api请求的，请求异常一定要有日志\u003c/p\u003e\n\u003cp\u003e#异常处理# 封装的异常，要保留原始异常信息，异常堆栈中要能追溯原始异常的堆栈\u003c/p\u003e\n\u003cp\u003e打日志一个非常重要的点（特别是支付场景）：\n在请求前打，请求之后再打，而不是只在一边打\u003c/p\u003e\n\u003cp\u003e#软件工程师核心能力# 读代码\n并不是每个项目都是从零开始的，大多数时候都是给一个现有的仓库做维护，好比给一个房子添砖加瓦、做改造。\n如果不了解手头做的事，只追求把自己的那部分做好，不了解改动会对现有系统产生什么样的影响，可能会导致什么后果，就不算是合格的，很可能有一天会砸到自己、碰到别人。\n怎么避免呢？依靠对业务的理解和判断（和领域专家、团队沟通），对实现的理解（读代码）。\u003c/p\u003e\n\u003cp\u003e命名一定要很明确，无论是业务系统，还是技术组件，明确表达是干啥的。\nps: 看见项目代码中各种set_xxx, process_xxx就头大。。。\u003c/p\u003e\n\u003cp\u003e对扩展开放，#开原则#的应用：\n实现sdk的版本迭代时，提供一个最基础的方法，方便用户找不到封装方法时，自己还能在这个最基础的方法上实现一个，达到用户端扩展的目的。\u003c/p\u003e\n\u003cp\u003e延伸：有依赖关系的且多变的地方，强调简单、灵活。\u003c/p\u003e\n\u003cp\u003eapi设计：简单，傻瓜化，不要指望调用方处理复杂的逻辑。\u003c/p\u003e\n\u003ch2\u003e抽象：从业务角度去抽象代码，而不是实现角度\u003c/h2\u003e\n\u003cp\u003e实际的例子：一个类似优酷的视频平台，现有的服务已经支持了点播视频，现在需要增加一个直播业务，并且产品希望在合理的规则约束下，尽可能复用点播的业务逻辑。\n在增加新功能的时候，发现现有实现严重耦合了点播视频的一些东西。\n从业务角度抽象代码，背后的逻辑是，代码要合理对现有业务逻辑做抽象，能够在适应新的业务时灵活调整。\u003c/p\u003e\n\u003cp\u003e抽象本身也是有成本的，技术团队要在扩展现有系统能力的成本、抽象的成本直接做取舍。\u003c/p\u003e\n"}},"__N_SSG":true},"page":"/blog/[link]","query":{"link":"2021-03-27 码代码"},"buildId":"ravzvVxRlFE3_IAU4jdd7","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-ff94e68042added27a93.js"></script><script src="/_next/static/chunks/main-c006ee6087559bbd65e3.js" async=""></script><script src="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" async=""></script><script src="/_next/static/chunks/framework.15878d4e523f86636251.js" async=""></script><script src="/_next/static/chunks/99f422a92ff7083adb8a7d840734144fa7589f68.e37cca09058b1656d546.js" async=""></script><script src="/_next/static/chunks/pages/_app-86af5e0fcdd51c9c3a66.js" async=""></script><script src="/_next/static/chunks/314642ff.81d3755a1df95fed9f2f.js" async=""></script><script src="/_next/static/chunks/762e22088df2ca7ea97d3f731b2a7315c482f91e.cb9acb13aef2b3683e00.js" async=""></script><script src="/_next/static/chunks/pages/blog/%5Blink%5D-87cd50cf458654f0c030.js" async=""></script><script src="/_next/static/ravzvVxRlFE3_IAU4jdd7/_buildManifest.js" async=""></script><script src="/_next/static/ravzvVxRlFE3_IAU4jdd7/_ssgManifest.js" async=""></script></body></html>