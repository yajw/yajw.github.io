{"pageProps":{"post":{"title":" 限流实现套路","comments":true,"date":"2019-12-27T00:00:00.000Z","tags":["分布式系统","限流"],"categories":["读书"],"modifyTime":"2021-03-27 14:49:15 +0800","createTime":"2021-04-14 17:29:52 +0800","logs":[{"status":["M"],"files":["\"2021-03-27 \\351\\231\\220\\346\\265\\201\\345\\256\\236\\347\\216\\260\\345\\245\\227\\350\\267\\257.md\""],"abbrevHash":"ab1d84b","hash":"ab1d84b469a4374c4b5847b1482a893fa61f5e13","subject":"Update 2021-03-27 限流实现套路.md","authorName":"yajw","authorDate":"2021-04-14 17:29:52 +0800"},{"status":["A"],"files":["\"2021-03-27 \\351\\231\\220\\346\\265\\201\\345\\256\\236\\347\\216\\260\\345\\245\\227\\350\\267\\257.md\""],"abbrevHash":"f4f4061","hash":"f4f406175bde5279c552d8bac1c05cf7bb72d58e","subject":"Copy old posts","authorName":"yajw","authorDate":"2021-03-27 14:49:15 +0800"}],"link":"2021-03-27%20%E9%99%90%E6%B5%81%E5%AE%9E%E7%8E%B0%E5%A5%97%E8%B7%AF","id":"e9abbb14-122d-400c-95f9-223439dda39c","content":"<p>实现效果：</p>\n<ol>\n<li>匀速/给定分布的速度</li>\n<li>限速</li>\n</ol>\n<p>两种模型：漏桶、令牌桶</p>\n<p>组件：\nSentinel, RateLimiter, Hystrix, resilience4j</p>\n<p>滑动窗口：1s分成20个槽，维护每秒的请求数量。\n令牌桶：按照指定的速率往桶里放token，请求线程去拿token\n漏桶：请求过来时放到漏桶中，看是否超出限制。\n信号量</p>\n<p><a href=\"http://followtry.cn/2020-09-28/ratelimter.html\">guava 限流技术原理分析</a></p>\n"}},"__N_SSG":true}