{"pageProps":{"post":{"title":" 支付相关","comments":true,"date":"2021-02-17T00:00:00.000Z","tags":["支付"],"categories":["总结"],"modifyTime":"2021-03-27 14:49:15 +0800","createTime":"2021-03-27 14:49:15 +0800","logs":[{"status":["A"],"files":["\"2021-03-27 \\346\\224\\257\\344\\273\\230\\347\\233\\270\\345\\205\\263.md\""],"abbrevHash":"f4f4061","hash":"f4f406175bde5279c552d8bac1c05cf7bb72d58e","subject":"Copy old posts","authorName":"yajw","authorDate":"2021-03-27 14:49:15 +0800"}],"link":"2021-03-27%20%E6%94%AF%E4%BB%98%E7%9B%B8%E5%85%B3","id":"c1300920-a952-4261-81f4-1ef51a746b05","content":"<p>第三方渠道的配置相关</p>\n<p>一致性：\n#一致性#本地事务中如果带有第三方的api请求，第三方成功，然后本地事务失败，会出现不一致。一些常见的：进程被强制杀掉，系统断电。</p>\n<p>多渠道选择器</p>\n<p>幂等实现</p>\n<p>渠道接入：\n错误处理/补偿设计\n定时调度\n运营支撑\n渠道选取逻辑\n接入规范</p>\n<p>信用卡退款失败异常流程：\n一个特殊规则：当天账户退款数目超过请款数目时，后续的退款会返回失败。\n这些失败是需要隔天重试的。</p>\n<p>支付路由设计\nhttps://zhuanlan.zhihu.com/p/34559347</p>\n<p>第三方渠道的超时，异常流程处理（特别是超时，消耗资源的情况）</p>\n"}},"__N_SSG":true}